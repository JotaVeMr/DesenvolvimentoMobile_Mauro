import 'package:flutter/material.dart';

void main() {
  runApp(const PetAgeApp());
}

class PetAgeApp extends StatelessWidget {
  const PetAgeApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: const PetAgeCalculator(),
      debugShowCheckedModeBanner: false,
      theme: ThemeData(
        scaffoldBackgroundColor: const Color(0xFFF8F1FF),
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.purple),
      ),
    );
  }
}

class PetAgeCalculator extends StatefulWidget {
  const PetAgeCalculator({super.key});

  @override
  State<PetAgeCalculator> createState() => _PetAgeCalculatorState();
}

class _PetAgeCalculatorState extends State<PetAgeCalculator> {
  String selectedPet = "Cachorro";
  double weight = 5;
  int age = 1;

  
  double calculatePhysiologicalAge() {
    if (selectedPet == "Cachorro") {
      if (age == 1) return 15;
      if (age == 2) return 24;
      return 24 + (age - 2) * 5; // anos seguintes
    } else {
      if (age == 1) return 15;
      if (age == 2) return 24;
      return 24 + (age - 2) * 4;
    }
  }

  @override
  Widget build(BuildContext context) {
    final result = calculatePhysiologicalAge();

    return Scaffold(
      body: Center(
        child: Padding(
          padding: const EdgeInsets.symmetric(horizontal: 20),
          child: Column(
            mainAxisAlignment: MainAxisAlignment.center,
            children: [
              // BOTÕES DE SELEÇÃO
              Row(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  ChoiceChip(
                    label: const Text("Cachorro"),
                    selected: selectedPet == "Cachorro",
                    onSelected: (_) {
                      setState(() => selectedPet = "Cachorro");
                    },
                  ),
                  const SizedBox(width: 16),
                  ChoiceChip(
                    label: const Text("Gato"),
                    selected: selectedPet == "Gato",
                    onSelected: (_) {
                      setState(() => selectedPet = "Gato");
                    },
                  ),
                ],
              ),

              const SizedBox(height: 30),

              
              Row(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  IconButton(
                    icon: const Icon(Icons.remove, size: 28),
                    onPressed: () {
                      if (age > 1) setState(() => age--);
                    },
                  ),
                  Text(
                    "Idade: $age",
                    style: const TextStyle(fontSize: 24),
                  ),
                  IconButton(
                    icon: const Icon(Icons.add, size: 28),
                    onPressed: () {
                      setState(() => age++);
                    },
                  ),
                ],
              ),

              const SizedBox(height: 40),

              
              Slider(
                value: weight,
                min: 1,
                max: 50,
                divisions: 49,
                label: "${weight.toStringAsFixed(1)} kg",
                onChanged: (value) {
                  setState(() => weight = value);
                },
              ),

              const SizedBox(height: 40),

              
              Text(
                "Idade Fisiológica:",
                style: TextStyle(
                  fontSize: 22,
                  color: Colors.grey.shade800,
                ),
              ),
              const SizedBox(height: 8),
              Text(
                "${result.toStringAsFixed(1)} anos humanos",
                style: const TextStyle(
                  fontSize: 28,
                  fontWeight: FontWeight.bold,
                  color: Colors.black87,
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}
